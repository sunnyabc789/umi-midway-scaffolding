(window["webpackJsonp_sugo-portal-app"]=window["webpackJsonp_sugo-portal-app"]||[]).push([[1],{"3Vcf":function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.smartRecommendAppsSagaSyncModelGen=t.appUserRelationSagaSyncModelGen=void 0;var a=r(n("d6i3")),u=r(n("1l/V")),i=n("TEM7"),s=n("Z8Nr"),l=(r(n("LvDl")),function(e){return function(t){var n,r;null===t||void 0===t||null===(n=t.match)||void 0===n||null===(r=n.params)||void 0===r||r.id;return(0,i.sagaSyncModel)({namespace:e,modelName:"AppUserRelation",getEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getAllAppUserRelation)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.creatAppUserRelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.updateAppUserRelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.deleteAppUserRelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}});t.appUserRelationSagaSyncModelGen=l;var o=function(e){return function(t){return(0,i.sagaSyncModel)({namespace:e,modelName:"smartRecommendApps",getEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){var n,r,u,i,l;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.queryTopFiveClickApps)(t);case 2:return i=e.sent,l=null===(n=window)||void 0===n?void 0:null===(r=n.sugo)||void 0===r?void 0:null===(u=r.user)||void 0===u?void 0:u.appsPermissions,"all"!==l[0]&&(i=i.filter(function(e){return l.includes(e.extappId)})),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.smartRecommendAppsSagaSyncModelGen=o},"6W/3":function(e,t,n){"use strict";var r=n("g09b"),a=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=a(n("q1tI")),i=n("mjZG"),s=r(n("ExLZ")),l=(r(n("LvDl")),n("qKvR"));function o(e){var t,n,r=e.pane;(0,u.useEffect)(function(){s.default.post("".concat(i.requestBase,"/sugo-smart-recommend"),{extappId:e.appId})},[e.appId]);null===r||void 0===r||r.title;var a=e.url;return(null===(t=window)||void 0===t?void 0:null===(n=t.__SUGO_PORTAL__)||void 0===n?void 0:n.jwt)&&(a.indexOf("?")>-1?a+="&jwtSign="+window.__SUGO_PORTAL__.jwt:a+="?jwtSign="+window.__SUGO_PORTAL__.jwt),(0,l.jsx)("div",{style:{height:"calc(100vh - 40px)"}},(0,l.jsx)("iframe",{src:a,scrolling:"no",style:{overflowX:"scroll",height:"calc(100% - 40px)"},width:"100%",frameBorder:"0",border:"0"}))}},"B+SW":function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.tryJsonParse=h,t.exportFile=g,t.remove=m,t.insert=y,t.move=w,t.takeRepeat=b,t.dedent=k,t.reductions=S,t.dictBy=E,t.groupBy=A,t.immutateUpdate=_,t.immutateUpdates=O,t.extractFileNameFromPath=R,t.escapeForRegex=T,t.interpose=N,t.getParameterByName=I,t.delayPromised=C,t.promiseWithTimeout=M,t.mapAwaitAll=B,t.forAwaitAll=U,t.isDiffByPath=D,t.isDiffBySomePath=P,t.isDiffByEveryPath=L,t.eventFire=F,t.stringMapper=z,t.removeAllEmptyValues=G,t.recurMap=Q,t.recurFlatten=J,t.parseQuery=Y,t.groupToArrayDeep=X,t.hashCode=H,t.swap=$,t.guessStrArrayType=ee,t.isClass=t.recurFindDeep=t.recurFind=t.isEqualWithReactObj=t.isEqualWithFunc=t.decompressUrlQuery=t.compressUrlQuery=void 0;var a=r(n("d6i3")),u=r(n("eHn4")),i=r(n("p0pE")),s=r(n("1l/V")),l=r(n("gWZ8")),o=r(n("WweU")),c=r(n("LvDl")),d=r(n("wd/R")),f=r(n("6xEa")),p=function(e,t){c.default.isObject(e)&&(e=JSON.stringify(e));try{"production"}catch(e){"production"}return f.default.compressToEncodedURIComponent(e)};t.compressUrlQuery=p;var v=function(e){return f.default.decompressFromEncodedURIComponent(e)};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(c.default.isObject(e))return e;try{return JSON.parse(e)}catch(e){return t}}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv;charset=utf-8;";c.default.startsWith(t,"\ufeff")||(t="\ufeff"+t);var r=new Blob([t],{type:n});if(navigator.msSaveBlob)navigator.msSaveBlob(r,e);else{var a=document.createElement("a");if(void 0!==a.download){var u=URL.createObjectURL(r);a.setAttribute("href",u),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}}function m(e,t){return e.filter(function(e,n){return n!==t})}function y(e,t,n){return c.default.take(e,t).concat([n]).concat(c.default.drop(e,t))}function w(e,t,n){var r=e[t];if(t<n){var a=e.filter(function(e,n){return n!==t});return y(a,n,r)}if(n<t){var u=e.filter(function(e,n){return n!==t});return y(u,n,r)}return e}t.decompressUrlQuery=v;var x=c.default.partialRight(c.default.isEqualWith,function(e,t){if(c.default.isFunction(e)&&c.default.isFunction(t))return e.toString()===t.toString()});t.isEqualWithFunc=x;var j=c.default.partialRight(c.default.isEqualWith,function(e,t){return c.default.isObject(e)&&c.default.isObject(t)&&"_owner"in e&&"_owner"in t?j(c.default.omit(e,"_owner"),c.default.omit(t,"_owner")):c.default.isFunction(e)&&c.default.isFunction(t)?e.toString()===t.toString():void 0});function b(e,t){return c.default.isEmpty(e)?e:t<=e.length?c.default.take(e,t):e.concat(b(e,t-e.length))}function k(e){var t;t="string"===typeof e?[e]:e.raw;for(var n="",r=0;r<t.length;r++)n+=t[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=r+1<1||arguments.length<=r+1?void 0:arguments[r+1]);n=n.trim();var a=n.split("\n"),u=null;return a.forEach(function(e){var t=e.match(/^ +/);if(t){var n=t[0].length;u=u?Math.min(u,n):n}}),null!==u&&(n=a.map(function(e){return" "===e[0]?e.slice(u):e}).join("\n")),n.replace(/\\n/g,"\n")}function S(e,t,n){return e.length?void 0===n?S(c.default.drop(e,1),t,c.default.first(e)):[n].concat(S(c.default.drop(e,1),t,t(n,c.default.first(e)))):[n]}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.identity;return(e||[]).reduce(function(e,r,a){return e[t(r,a)]=n(r,a),e},{})}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.identity;return c.default.mapValues(c.default.groupBy(e,t),n)}function _(e,t,n){if(c.default.isArray(t)&&!t.length)return n(e);if(c.default.isString(t)||c.default.isNumber(t)){var r=c.default.toPath(t);return _(e,r,n)}var a=(0,o.default)(t),u=a[0],i=a.slice(1),s=e&&e[u],l=_(s,i,n);if(s===l)return e;if(c.default.isArray(e)||!e&&isFinite(u)&&c.default.isInteger(+u)&&0<=u){var d=c.default.clone(e||[]);return d[u]=l,d}var f=c.default.clone(e)||{};return f[u]=l,f}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(c.default.isEmpty(n))return e;var a=n[0],u=n[1],i=n.slice(2);return O.apply(void 0,[_(e,a,u)].concat((0,l.default)(i)))}function R(e){var t=e.lastIndexOf("/");return e.substr(t+1)}function T(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function N(e,t){var n=c.default.zip(t,t.map(c.default.isFunction(e)?e:function(){return e})),r=c.default.flatten(n);return c.default.take(r,r.length-1)}function I(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function C(e){return new Promise(function(t){return c.default.delay(t,e)})}function M(e,t,n){return Promise.race([e,C(t).then(function(){return n})])}function B(e,t){return Promise.all(e.map(t))}function U(e,t){return q.apply(this,arguments)}function q(){return q=(0,s.default)(a.default.mark(function e(t,n){var r,u,i,s,l,o,c,d,f;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=[],u=0,i=!0,s=!1,l=void 0,e.prev=5,o=t[Symbol.iterator]();case 7:if(i=(c=o.next()).done){e.next=16;break}return d=c.value,e.next=11,n(d,u++,t);case 11:f=e.sent,r.push(f);case 13:i=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](5),s=!0,l=e.t0;case 22:e.prev=22,e.prev=23,i||null==o.return||o.return();case 25:if(e.prev=25,!s){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}},e,null,[[5,18,22,30],[23,,25,29]])})),q.apply(this,arguments)}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.default.isEqual;return!r(c.default.get(e,n),c.default.get(t,n))}function P(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 1===r.length&&c.default.isArray(r[0])&&(r=r[0]),c.default.some(r,function(n){return D(e,t,n)})}function L(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 1===r.length&&c.default.isArray(r[0])&&(r=r[0]),c.default.every(r,function(n){return D(e,t,n)})}function F(e,t){if(e.fireEvent)e.fireEvent("on"+t);else{var n=document.createEvent("Events");n.initEvent(t,!0,!1),e.dispatchEvent(n)}}function z(e,t){var n=c.default.findKey(t,function(t){return c.default.isFunction(t)?t(e):t.test(e)});return n?c.default.isFunction(t[n])?n:e.replace(t[n],n):e}function Z(e){return c.default.isObject(e)?!c.default.isEmpty(e):c.default.isString(e)?""!==e:null!==e&&void 0!==e}function G(e){return c.default.isArray(e)?e.map(G).filter(Z):c.default.isObject(e)?(0,c.default)(e).mapValues(function(e){return G(e)}).pickBy(Z).value():e}t.isEqualWithReactObj=j;var V=function e(t,n,r){return c.default.find(t,function(t){return r(t)||e(n(t),n,r)})};t.recurFind=V;var W=function e(t,n,r){var a=c.default.find(t,function(t){return r(t)||e(n(t),n,r)});return a&&(r(a)?a:e(n(a),n,r))};function Q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.map(function(e){var a=n(e,r),s=t(a);return s?(0,i.default)({},a,(0,u.default)({},s,Q(a[s],t,n,[].concat((0,l.default)(r),[a])))):a})}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";return c.default.isEmpty(e)?[]:c.default.flatMap(e,function(e){return e&&[e].concat((0,l.default)(J(e[t])))||[]})}t.recurFindDeep=W;var K=function(e){return"function"===typeof e&&/^class\s/.test(Function.prototype.toString.call(e))};function Y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search.substring(1),t={},n=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<n.length;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}return t}function X(e,t,n){var r=(0,o.default)(t),a=r[0],u=r.slice(1),i=(0,o.default)(n),s=i[0],l=i.slice(1);if(!a)return s?c.default.map(e,s):e;var d=A(e,a,function(e){return X(e,u,l)});return c.default.flatMap(c.default.keys(d),function(e){return s(d[e],e)})}function H(e){return e.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}function $(e,t,n){var r=c.default.clone(e);return r[t]=e[n],r[n]=e[t],r}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e.filter(function(e){return!c.default.isNil(e)});if(0===n.length)return t;var r=n.map(function(e){return+e});return c.default.every(r,isFinite)?c.default.every(r,function(e){return Number.isInteger(e)})?c.default.some(r,function(e){return 2e10<e})?"Long":"Integer":"Float":c.default.every(n,function(e){return(0,d.default)(e).isValid()})?"DateTime":"Char"}t.isClass=K},ExLZ:function(e,t,n){"use strict";var r=n("tAuX"),a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.parseResponse=b,t.serialized=k,t.handleErr=S,t.default=void 0;a(n("q1tI"));var u=a(n("d6i3")),i=a(n("p0pE")),s=a(n("2Taf")),l=a(n("vZ4D")),o=a(n("1l/V"));n("/xke");var c=a(n("TeRw")),d=a(n("LvDl")),f=r(n("asMg")),p=n("bZMm"),v=n("YVj/"),h=n("B+SW"),g=n("qKvR"),m=window.fetch||p.fetch,y=m;window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__&&(y=function(e,t){return d.default.startsWith(e,"http")?m(e,t):m("".concat(e),t)});var w=function(e){var t="loading-bar".concat(e),n=document.getElementById(t);if(n)return n.parentNode&&n.parentNode.removeChild(n);var r=document.createElement("div");r.className="loading-bar loading",r.id=t,document.body.appendChild(r)};window.__fetchCount=0;var x=0,j={Accept:"application/json","Content-Type":"application/json"};function b(e){var t=e.headers.get("x-druid-query-error")||"";/not enough .+ space to .+ query/i.test(t)&&c.default.warn({message:"\u63d0\u793a",key:(0,h.hashCode)("\u5185\u5b58\u4e0d\u8db3\uff0c\u8bf7\u4f18\u5316\u67e5\u8be2")+"",description:(0,g.jsx)("div",{className:"mw300 common-err-msg animate wordbreak"},"\u5185\u5b58\u4e0d\u8db3\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u64cd\u4f5c\u4f18\u5316\u67e5\u8be2\uff1a",(0,g.jsx)("br",null),"\u964d\u4f4e\u53bb\u91cd\u8ba1\u6570\u4e2d sketch \u7684\u7cbe\u5ea6\u6216\u4e0d\u4f7f\u7528 sketch \u53bb\u91cd\u7b97\u6cd5\uff1b",(0,g.jsx)("br",null),"\u6570\u503c\u5206\u7ec4\u907f\u514d\u4f7f\u7528\u201c\u6309\u503c\u201d\u5206\u7ec4\uff1b",(0,g.jsx)("br",null),"\u51cf\u5c11\u6307\u6807\u6570\u91cf\u7b49"),duration:20});var n=e.headers.get("content-type")||"",r=-1!==n.toLowerCase().indexOf("application/json");return r?e.json():e.text()}function k(e){return e?"?q=".concat((0,h.compressUrlQuery)(JSON.stringify(e),"fetching...")):""}function S(e){return E.apply(this,arguments)}function E(){return E=(0,o.default)(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),!d.default.isFunction(t.text)){e.next=7;break}return e.next=4,t.text();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=d.default.isObject(t)?JSON.stringify(t):t;case 8:n=e.t0,console.log(n,"\u9519\u8bef\u4fe1\u606f");try{r=(0,h.tryJsonParse)(n),n=r.error||r.message||n}catch(e){console.log("not a json error")}"{}"===n||""===n?n="\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff01":504===t.status&&(n="\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u91cd\u8bd5\u6216\u8005\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff01"),401===t.status&&console.log(t,"\u5b50\u5e94\u7528401==="),c.default.warn({message:"\u63d0\u793a",key:(0,h.hashCode)(n)+"",description:(0,g.jsx)("div",{className:"mw300 common-err-msg animate wordbreak",dangerouslySetInnerHTML:{__html:n}}),duration:20});case 14:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function A(e,t){var n=null,r=new Promise(function(e,t){n=function(){t("\u83b7\u53d6\u6570\u636e\u8d85\u65f6\u4e86\uff0c\u8bd5\u8bd5\u5237\u65b0\u9875\u9762")}}),a=Promise.race([e,r]);return setTimeout(function(){n&&n()},t),a}var _=function(){function e(){(0,s.default)(this,e)}return(0,l.default)(e,null,[{key:"get",value:function(t,n,r){n=(0,i.default)({},n,{user:{appsPermissions:["all"]}});var a=n?(0,v.withExtraQuery)(t,{q:(0,h.compressUrlQuery)(JSON.stringify(n),"fetching...")}):t;return 2e3<=a.length&&d.default.get(r,"_autoSwitchToPostWhenUrlTooLong")?e.post(t,n,d.default.defaultsDeep({},d.default.omit(r,"_autoSwitchToPostWhenUrlTooLong"),v.sendJSON)):e.connect(a,"get",null,r)}},{key:"post",value:function(t,n,r){var a,u;return n=(0,i.default)({},n,{user:null===(a=window)||void 0===a?void 0:null===(u=a.sugo)||void 0===u?void 0:u.user}),e.connect(t,"post",n,r)}},{key:"delete",value:function(t,n,r){var a,u;return n=(0,i.default)({},n,{user:null===(a=window)||void 0===a?void 0:null===(u=a.sugo)||void 0===u?void 0:u.user}),e.connect(t,"delete",n,r)}},{key:"put",value:function(t,n,r){var a,u;return n=(0,i.default)({},n,{user:null===(a=window)||void 0===a?void 0:null===(u=a.sugo)||void 0===u?void 0:u.user}),e.connect(t,"put",n,r)}},{key:"patch",value:function(t,n,r){var a,u;return n=(0,i.default)({},n,{user:null===(a=window)||void 0===a?void 0:null===(u=a.sugo)||void 0===u?void 0:u.user}),e.connect(t,"patch",n,r)}},{key:"connect",value:function(){var e=(0,o.default)(u.default.mark(function e(t,n,r){var a,s,l,o,c,d,p,v,g=arguments;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=g.length>3&&void 0!==g[3]?g[3]:{},s=(0,i.default)({method:n,body:r?JSON.stringify({q:(0,h.compressUrlQuery)(JSON.stringify(r))}):void 0,credentials:"include",headers:j,timeout:18e4},a),a.hasOwnProperty("redirect")||(a.redirect="manual"),a.hasOwnProperty("throwMessageWhenErrorStatus")||(a.throwMessageWhenErrorStatus=!0),l=(new Date).getTime(),o=x+0,x++,x>1<<29&&(x=0),window.__fetchCount++,w(o),e.prev=10,e.next=13,A(y(t,s),s.timeout);case 13:if(c=e.sent,"opaqueredirect"===c.type&&window.location.reload(!0),d=c.headers.get("Date"),d&&(p=(new Date).getTime(),v=new Date(d).getTime()+p-l,f.set("serverTime",v+"")),!(a.throwMessageWhenErrorStatus&&c.status>304)){e.next=19;break}throw c;case 19:return e.abrupt("return",(a.handleResponse||b)(c));case 22:e.prev=22,e.t0=e["catch"](10),(a.handleErr||S)(e.t0);case 25:return e.prev=25,window.__fetchCount--,w(o),e.finish(25);case 29:case"end":return e.stop()}},e,null,[[10,22,25,29]])}));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();t.default=_},H8uV:function(e,t,n){},"NE+i":function(e,t,n){},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=u(e);return n(t)}function u(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=u,e.exports=a,a.id="RnhZ"},TEM7:function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.sagaSyncModel=void 0;var a=r(n("qIgq")),u=r(n("d6i3")),i=r(n("eHn4")),s=r(n("p0pE")),l=r(n("Y/ft")),o=r(n("LvDl")),c=n("B+SW"),d=function(e){var t,n=e.namespace,r=e.modelName,d=e.getEffect,f=e.postEffect,p=e.putEffect,v=e.deleteEffect,h=(0,l.default)(e,["namespace","modelName","getEffect","postEffect","putEffect","deleteEffect"]),g=r.replace(/^./,function(e){return e.toUpperCase()}),m="isFetching".concat(g),y="isSyncing".concat(g);return(0,s.default)({namespace:n},h,{state:(t={},(0,i.default)(t,m,!1),(0,i.default)(t,y,!1),(0,i.default)(t,r,[]),(0,i.default)(t,"".concat(r,"Bak"),null),t),reducers:{updateState:function(e,t){var n=t.payload;return n(e)}},effects:{fetch:u.default.mark(function e(t,n){var a,l;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,n.put({type:"updateState",payload:function(e){return(0,s.default)({},e,(0,i.default)({},m,!0))}});case 3:return e.next=5,n.call(d,a);case 5:return l=e.sent,e.next=8,n.put({type:"updateState",payload:function(e){var t;return(0,s.default)({},e,(t={},(0,i.default)(t,r,l),(0,i.default)(t,"".concat(r,"Bak"),l),(0,i.default)(t,m,!1),t))}});case 8:case"end":return e.stop()}},e)}),sync:u.default.mark(function e(t,a){var l,d,h,g,m,w,x,j,b,k,S,E,A,_,O,R,T;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,d=t.callback,h=t.forceReload,g=void 0!==h&&h,e.next=3,a.select(function(e){return o.default.get(e,[n],[])});case 3:if(m=e.sent,w=m["".concat(r,"Bak")],x=m[r],j=m[y],w){e.next=9;break}return e.abrupt("return");case 9:if(!j){e.next=11;break}return e.abrupt("return");case 11:return x=l||x,e.next=14,a.put({type:"updateState",payload:function(e){var t;return(0,s.default)({},e,(t={},(0,i.default)(t,y,!0),(0,i.default)(t,r,x),t))}});case 14:if(b=o.default.keyBy(w,function(e){return e.id}),k=x.filter(function(e){return!e.id||!(e.id in b)}),S=x.filter(function(e){return e.id&&e.id in b&&!o.default.isEqual(e,b[e.id])}),E=o.default.differenceBy(w,x,function(e){return e.id}),f){e.next=20;break}throw new Error("Not support create ".concat(r));case 20:if(p){e.next=22;break}throw new Error("Not support update ".concat(r));case 22:if(v){e.next=24;break}throw new Error("Not support delete ".concat(r));case 24:return e.next=26,a.call(c.mapAwaitAll,k,f);case 26:return A=e.sent,e.next=29,a.call(c.mapAwaitAll,S,p);case 29:return _=e.sent,e.next=32,a.call(c.mapAwaitAll,E,v);case 32:if(O=e.sent,!g&&o.default.isEmpty(o.default.compact(A))&&o.default.isEmpty(o.default.compact(_))&&o.default.isEmpty(o.default.compact(O))){e.next=37;break}return e.next=36,a.put.resolve({type:"fetch"});case 36:R=e.sent;case 37:return e.next=39,a.put({type:"updateState",payload:function(e){return(0,s.default)({},e,(0,i.default)({},y,!1))}});case 39:return T={resCreate:A,resUpdate:_,resDelete:O,resReload:R},o.default.isFunction(d)&&d(T),e.abrupt("return",T);case 42:case"end":return e.stop()}},e)}),reloadSingleItem:u.default.mark(function e(t,n){var l,o,c,f;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,e.next=3,n.put({type:"updateState",payload:function(e){return(0,s.default)({},e,(0,i.default)({},m,!0))}});case 3:return e.next=5,n.call(d,l);case 5:return o=e.sent,c=(0,a.default)(o,1),f=c[0],e.next=10,n.put({type:"updateState",payload:function(e){var t;return(0,s.default)({},e,(t={},(0,i.default)(t,r,e[r].map(function(e){return e.id===f.id?f:e})),(0,i.default)(t,"".concat(r,"Bak"),e["".concat(r,"Bak")].map(function(e){return e.id===f.id?f:e})),(0,i.default)(t,m,!1),t))}});case 10:case"end":return e.stop()}},e)})},subscriptions:{setup:function(e){var t=e.dispatch;e.history;return t({type:"fetch"}),function(){}}}})};t.sagaSyncModel=d},XYKo:function(e,t,n){},"YVj/":function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.checkStatus=o,t.parseJSON=c,t.withExtraQuery=m,t.noCache=t.recvJSON=t.sendFormData=t.sendJSON=t.sendURLEncoded=t.includeCookie=t.IE_VERSION=t.toQueryParams=void 0;var a=r(n("LvDl")),u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[];for(var a in t)if(t.hasOwnProperty(a)){var u=n?n+"[".concat(a,"]"):a,i=t[a];r.push("object"===typeof i?e(i,u):encodeURIComponent(u)+"="+encodeURIComponent(i))}return r.join("&")};t.toQueryParams=u;var i=/ie\s+v(\d+)/i;function s(){var e=document.body.className.match(i);return e?+e[1]:-1}var l=s();function o(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function c(e){return e.json()}t.IE_VERSION=l;var d={credentials:"include"};t.includeCookie=d;var f={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}};t.sendURLEncoded=f;var p={headers:{"Content-Type":"application/json"}};t.sendJSON=p;var v={headers:{}};t.sendFormData=v;var h={headers:{Accept:"application/json"}};t.recvJSON=h;var g=-1===l?{headers:{"cache-control":"no-cache"}}:{headers:{"Cache-control":"no-cache,no-store",Pragma:"no-cache",Expires:0}};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.isEmpty(t)?e:"".concat(e).concat(a.default.includes(e,"?")?"&":"?").concat(u(t))}t.noCache=g},Z8Nr:function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getAllAppUserRelation=l,t.creatAppUserRelation=c,t.deleteAppUserRelation=f,t.updateAppUserRelation=v,t.queryTopFiveClickApps=g;var a=r(n("d6i3")),u=r(n("1l/V")),i=r(n("ExLZ")),s=n("mjZG");function l(e){return o.apply(this,arguments)}function o(){return o=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-workbench"));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),o.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-workbench"),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.delete("".concat(s.requestBase,"/sugo-workbench/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return h=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.put("".concat(s.requestBase,"/sugo-workbench/").concat(t.id),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function g(){return m.apply(this,arguments)}function m(){return m=(0,u.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-smart-recommend"));case 2:return t=e.sent,e.abrupt("return",t&&t.result);case 4:case"end":return e.stop()}},e)})),m.apply(this,arguments)}},ZdT4:function(e,t,n){"use strict";var r=n("g09b"),a=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=q,n("miYZ");var u=r(n("tsqr")),i=r(n("jehZ"));n("Pwec");var s=r(n("CtXQ")),l=r(n("gWZ8")),o=r(n("qIgq"));n("Znn+");var c=r(n("ZTPi")),d=r(n("d6i3")),f=r(n("1l/V")),p=r(n("2Taf")),v=r(n("vZ4D")),h=r(n("l4Ni")),g=r(n("ujKo")),m=r(n("MhPg"));n("5NDa");var y=r(n("5rEg")),w=a(n("q1tI")),x=r(n("ExLZ")),j=r(n("LvDl"));n("XYKo");var b,k,S=n("mjZG"),E=n("Hg0r"),A=n("g96v"),_=n("3Vcf"),O=n("Z8Nr"),R=r(n("n7hF")),T=r(n("6W/3")),N=n("qKvR"),I=y.default.Search,C=function(e){function t(){var e,n;(0,p.default)(this,t);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return n=(0,h.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(a))),n.state={appList:[],inputValue:""},n.getList=function(){var e=(0,f.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.default.get("".concat(S.requestBase,"/sugo-app"),{name:t});case 2:r=e.sent,n.setState({appList:r.result,inputValue:t});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.renderContent=function(){var e=n.state,t=e.appList,r=e.inputValue;return(0,N.jsx)("div",{className:"portal-search"},(0,N.jsx)(I,{onSearch:function(e){n.getList(e),n.setState({inputValue:e})},onChange:function(e){n.setState({inputValue:e.target.value})},value:r,style:{width:624,marginBottom:"30px"}}),(0,N.jsx)("div",null,(0,N.jsx)("div",{className:"global-search"},"\u5168\u5c40\u641c\u7d22"),(j.default.isEmpty(r)?n.props.searchList||[]:t).map(function(e,t){return(0,N.jsx)("div",{key:t,style:{marginTop:"30px"}},(0,N.jsx)("div",{className:"itblock pointer border relative",style:{width:"240px",height:"134px",margin:"0 30px 0 0"},onClick:function(){n.props.showIframe(e)}},j.default.isEmpty(e.img)?(0,N.jsx)("span",{className:"center-of-relative"},"\u6682\u65e0\u7f29\u7565\u56fe"):(0,N.jsx)("img",{className:"width-100",style:{height:"134px",width:"240px"},alt:"\u56fe\u7247",src:e.img})),(0,N.jsx)("div",{className:"itblock elli-wrap pointer",style:{width:"354px",height:"134px"},onClick:function(){n.props.showIframe(e)}},(0,N.jsx)("h4",{className:"card-title elli"},e.name),(0,N.jsx)("p",{className:"card-description"},e.description)))}),j.default.isEmpty(n.props.searchList)&&j.default.isEmpty(t)?(0,N.jsx)("div",null,"\u67e5\u65e0\u7ed3\u679c"):null))},n}return(0,m.default)(t,e),(0,v.default)(t,[{key:"componentWillMount",value:function(){if(j.default.get(this.props.location.query,"value","")){var e=j.default.get(this.props.location.query,"value","");this.getList(e)}}},{key:"componentWillReceiveProps",value:function(e){if(j.default.get(this.props.location.query,"value","")!==j.default.get(e.query,"value","")){var t=j.default.get(e.location.query,"value","");this.getList(t)}}},{key:"render",value:function(){return(0,N.jsx)("div",null,this.renderContent())}}]),t}(w.default.Component),M=c.default.TabPane,B=(null===(b=window)||void 0===b?void 0:null===(k=b.sugo)||void 0===k?void 0:k.user)||{},U=(null===B||void 0===B?void 0:B.id)||"";function q(e){var t=(0,w.useState)(""),n=(0,o.default)(t,2),r=n[0],a=n[1],p=(0,w.useState)(""),v=(0,o.default)(p,2),h=v[0],g=v[1],m=(0,w.useState)("1"),y=(0,o.default)(m,2),x=y[0],b=y[1],k=(0,w.useState)([]),S=(0,o.default)(k,2),I=S[0],B=S[1],q=(0,w.useState)(!1),D=(0,o.default)(q,2),P=D[0],L=D[1],F=(0,E.useDispatch)();(0,A.useRuntimeSagaModels)(e,[(0,_.appUserRelationSagaSyncModelGen)("appUserRelation")]);var z=(0,E.useSelector)(function(e){return null===e||void 0===e?void 0:e.appUserRelation});function Z(e){return G.apply(this,arguments)}function G(){return G=(0,f.default)(d.default.mark(function e(t){var n,r,a;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=j.default.get(z,"AppUserRelation",[]),r=n.filter(function(e){return e.userId===U&&e.extappId===t}),a="",!j.default.isEmpty(r)){e.next=9;break}return e.next=6,(0,O.creatAppUserRelation)({extappId:t});case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,(0,O.deleteAppUserRelation)({id:r[0].id});case 11:a=e.sent;case 12:if(a.success){e.next=14;break}return e.abrupt("return",u.default.error("\u64cd\u4f5c\u5931\u8d25"));case 14:u.default.success("\u64cd\u4f5c\u6210\u529f"),F({type:"appUserRelation/fetch"});case 16:case"end":return e.stop()}},e)})),G.apply(this,arguments)}function V(e){var t;I.forEach(function(n,r){n.key===e&&(t=r-1)}),I=I.filter(function(t){return t.key!==e}),I.length&&x===e&&(x=t>=0?I[t].key:I[0].key),b(j.default.isEmpty(I)?"1":x),B(I)}function W(e){g(e.url),a(e.id),j.default.findIndex(I,{key:e.id})<0&&B([].concat((0,l.default)(I),[{title:e.name,url:e.url,key:e.id}])),b(e.id)}var Q=j.default.get(z,"AppUserRelation",[]),J=Q.filter(function(e){return e.userId===U&&e.extappId===r});return(0,N.jsx)("div",{id:"search-home",className:"height-100 relative"},(0,N.jsx)(R.default,{visible:P,url:h,handleCancel:function(){L(!1)}}),h&&"1"!==x?(0,N.jsx)("div",{className:"absolute right0 pointer zIndex1",style:{top:"10px"}},(0,N.jsx)("div",{className:"itblock",style:{marginRight:"10px"},onClick:function(){Z(r)}},(0,N.jsx)(s.default,{type:"star",className:"star-icon",theme:j.default.isEmpty(J)?"outlined":"filled"}),(0,N.jsx)("span",null,"\u6536\u85cf"))):null,(0,N.jsx)(c.default,{hideAdd:!0,onChange:function(e){b(e),a(e)},activeKey:x,type:"editable-card",onEdit:function(e){V(e)}},(0,N.jsx)(M,{tab:"\u6211\u7684\u641c\u7d22",key:"1",closable:!1},(0,N.jsx)(C,(0,i.default)({showIframe:W},e))),I.map(function(e){return(0,N.jsx)(M,{tab:e.title,key:e.key},(0,N.jsx)(T.default,{appId:e.key,url:e.url}))})))}},asMg:function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.get=l,t.set=o,t.gets=c,t.clear=d,t.maxLSLength=void 0;var a=n("B+SW"),u=r(n("LvDl")),i=window.localStorage,s=5e4;function l(e){return e?(0,a.tryJsonParse)(i.getItem(e)):null}function o(e,t){var n=u.default.isString(t)?t:JSON.stringify(t);return(n||"").length>s?console.log("string size > ".concat(s,", choose not save it"),n):i.setItem(e,n)}function c(e){return i.getItem(e)}function d(e){return e.forEach(function(e){return i.removeItem(e)})}t.maxLSLength=s},bKFA:function(e,t,n){"use strict";var r=n("g09b"),a=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var u=r(n("d6i3"));n("miYZ");var i=r(n("tsqr"));n("Pwec");var s=r(n("CtXQ")),l=r(n("gWZ8")),o=r(n("1l/V")),c=r(n("qIgq"));n("5NDa");var d=r(n("5rEg"));n("Znn+");var f=r(n("ZTPi")),p=a(n("q1tI")),v=n("Hg0r"),h=n("g96v"),g=n("3Vcf"),m=n("Z8Nr"),y=n("r9/Z"),w=r(n("n7hF")),x=r(n("6W/3")),j=r(n("ZdT4")),b=n("mjZG"),k=r(n("ExLZ"));n("H8uV");var S,E,A=r(n("LvDl")),_=n("qKvR"),O=f.default.TabPane,R=(d.default.Search,(null===(S=window)||void 0===S?void 0:null===(E=S.sugo)||void 0===E?void 0:E.user)||{}),T=(null===R||void 0===R?void 0:R.id)||"";function N(e){var t=(0,p.useState)(""),n=(0,c.default)(t,2),r=n[0],a=n[1],d=(0,p.useState)(""),S=(0,c.default)(d,2),E=S[0],R=S[1],N=(0,p.useState)("0"),I=(0,c.default)(N,2),C=I[0],M=I[1],B=(0,p.useState)([]),U=(0,c.default)(B,2),q=U[0],D=U[1],P=(0,p.useState)(!1),L=(0,c.default)(P,2),F=L[0],z=L[1],Z=(0,p.useState)(10),G=(0,c.default)(Z,2),V=G[0],W=G[1],Q=(0,p.useState)([]),J=(0,c.default)(Q,2),K=J[0],Y=(J[1],(0,p.useState)("")),X=(0,c.default)(Y,2),H=X[0],$=X[1],ee=(0,v.useDispatch)();(0,h.useRuntimeSagaModels)(e,[(0,y.applicationSagaSyncModelGen)("getApplications"),(0,g.appUserRelationSagaSyncModelGen)("appUserRelation"),(0,g.smartRecommendAppsSagaSyncModelGen)("smartRecommendApps")]);var te=(0,v.useSelector)(function(e){return null===e||void 0===e?void 0:e.getApplications})||[],ne=(0,v.useSelector)(function(e){return null===e||void 0===e?void 0:e.appUserRelation}),re=(0,v.useSelector)(function(e){return null===e||void 0===e?void 0:e.smartRecommendApps})||{},ae={};A.default.get(te,"application",[]).map(function(e){return ae[e.id]||(ae[e.id]=e),e});var ue=re.smartRecommendApps,ie=void 0===ue?[]:ue,se=ie.map(function(e){return ae[e.extappId]});function le(e){return oe.apply(this,arguments)}function oe(){return oe=(0,o.default)(u.default.mark(function e(t){var n,r,a;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=A.default.get(ne,"AppUserRelation",[]),r=n.filter(function(e){return e.userId===T&&e.extappId===t}),a="",!A.default.isEmpty(r)){e.next=9;break}return e.next=6,(0,m.creatAppUserRelation)({extappId:t});case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,(0,m.deleteAppUserRelation)({id:r[0].id});case 11:a=e.sent;case 12:if(a.success){e.next=14;break}return e.abrupt("return",i.default.error("\u64cd\u4f5c\u5931\u8d25"));case 14:i.default.success("\u64cd\u4f5c\u6210\u529f"),ee({type:"appUserRelation/fetch"});case 16:case"end":return e.stop()}},e)})),oe.apply(this,arguments)}function ce(e){if("1"===e)return $(""),M("0"),null;var t;q.forEach(function(n,r){n.key===e&&(t=r-1)}),q=q.filter(function(t){return t.key!==e}),q.length&&C===e&&(C=t>=0?q[t].key:q[0].key),M(A.default.isEmpty(q)?"0":C),D(q)}function de(e){R(e.url),a(e.id),A.default.findIndex(q,{key:e.id})<0&&D([].concat((0,l.default)(q),[{title:e.name,url:e.url,key:e.id}])),M(e.id)}se=A.default.compact(se);var fe=A.default.get(ne,"AppUserRelation",[]).filter(function(e){return e.userId===T}).map(function(e){return e.extappId}),pe=A.default.get(te,"application",[]).filter(function(e){return A.default.includes(fe,e.id)}),ve=A.default.get(ne,"AppUserRelation",[]),he=ve.filter(function(e){return e.userId===T&&e.extappId===r});pe.sort(function(e,t){return e.name.localeCompare(t.name,"zh-Hans-CN")});var ge=A.default.slice(pe,0,V);function me(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(A.default.isEmpty(e))return t?(0,_.jsx)("div",null,"\u6682\u65e0\u667a\u80fd\u5e94\u7528\u63a8\u8350"):(0,_.jsx)("div",null,"\u6682\u65e0\u5173\u6ce8\u5e94\u7528");return(0,_.jsx)("div",{style:{width:"1300px",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center"}},e.map(function(e,t){var n=A.default.get(ne,"AppUserRelation",[]).filter(function(t){return t.userId===T&&t.extappId===(null===e||void 0===e?void 0:e.id)});return(0,_.jsx)("div",{className:"card",style:{width:"244px",height:"180px",position:"relative",marginRight:(t+1)%5===0?"0px":"20px",marginBottom:"16px"},span:4,key:t},(0,_.jsx)("div",null,(0,_.jsx)("div",{className:" bg-white aligncenter relative pointer card-border card-top",style:{width:"244px",height:"140px",boxSizing:"border-box"},onClick:function(){if("browserTab"===(null===e||void 0===e?void 0:e.openWay))return k.default.post("".concat(b.requestBase,"/sugo-smart-recommend"),{extappId:e.id}),void window.open(e.url,"_blank");de(e)}},A.default.isEmpty(e.img)?(0,_.jsx)("span",{style:{width:"244px",height:"140px",borderRadius:"6px"}},"\u6682\u65e0\u7f29\u7565\u56fe"):(0,_.jsx)("img",{style:{width:"244px",height:"140px",borderRadius:"6px"},alt:"\u56fe\u7247",src:e.img}),(0,_.jsx)("div",{style:{width:"70px",height:"24px",background:"rgba(255,255,255,1)",opacity:"0.9",borderRadius:"4px",position:"absolute",bottom:"8px",right:"8px"},onClick:function(t){t.stopPropagation(),le(e.id)},className:"star-icon-display"},(0,_.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},(0,_.jsx)(s.default,{theme:"filled",type:"star",style:{color:A.default.isEmpty(n)?"#B4B6BD":"#F1AD47",fontSize:"14px"}}),(0,_.jsx)("span",{style:{fontSize:"12px",marginLeft:"3px"}},A.default.isEmpty(n)?"\u5173\u6ce8":"\u5df2\u5173\u6ce8")))),(0,_.jsx)("div",{className:"aligncenter relative card-bottom",style:{width:"244px",height:"40px",padding:"0px"}},(0,_.jsx)("span",{className:"center-of-relative card-name elli",style:{display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:"14px"},title:e.name},e.name))))}))}return(0,_.jsx)("div",{id:"my-workbench",className:"height-100 relative"},(0,_.jsx)(w.default,{visible:F,url:E,handleCancel:function(){z(!1)}}),E&&"0"!=C&&"1"!=C?(0,_.jsx)("div",{className:"absolute right0 pointer zIndex1",style:{top:"10px",right:"20px"}},(0,_.jsx)("div",{className:"itblock",style:{marginRight:"10px"},onClick:function(){le(r)}},(0,_.jsx)(s.default,{type:"star",className:"star-icon",theme:A.default.isEmpty(he)?"outlined":"filled"}),(0,_.jsx)("span",null,"\u6536\u85cf"))):null,(0,_.jsx)(f.default,{hideAdd:!0,onChange:function(e){M(e);var t=A.default.find(q,function(t){return t.key===e});t&&R(t.url)},activeKey:C,type:"editable-card",onEdit:function(e){ce(e)},style:{width:"100%",minWidth:"1316px"},tabBarStyle:{height:"44px",backgroundColor:"#F7F7F7",paddingTop:"8px"}},"0"==C?(0,_.jsx)(O,{tab:"\u6211\u7684\u5de5\u4f5c\u53f0",key:"0",closable:!1,style:{paddingBottom:"50px"}},(0,_.jsx)("div",{style:{height:"calc(100vh - 44px - 48px)",minWidth:"1316px",overflowY:"scroll",overflowX:"hidden",display:"flex",justifyContent:"center"}},(0,_.jsx)("div",{style:{width:"1300px",height:"100vh"}},(0,_.jsx)("div",{className:"card-classification ",style:{width:"1300px",margin:"24px 0px",padding:"0px",lineHeight:"16px"}},"\u6211\u5173\u6ce8\u7684\u5e94\u7528"),me(ge,!1),(0,_.jsx)("div",{style:{width:"1300px",height:pe.length>10?"40px":"0px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"32px",marginTop:"16px",overflow:"hidden"}},(0,_.jsx)("div",{className:"pointer load-more",style:{width:"244px",height:"40px",lineHeight:"40px",background:"rgba(243,243,243,1)",borderRadius:"6px",textAlign:"center",color:"rgba(51,51,51,1)",visibility:pe.length>10?"visible":"hidden"},onClick:function(){pe.length>ge.length&&ge.length>0?W(V+5):W(10)}},pe.length>ge.length&&ge.length>0?(0,_.jsx)("p",null,"\u52a0\u8f7d\u66f4\u591a",(0,_.jsx)("span",{style:{marginLeft:"13px"}},"\u2193")):(0,_.jsx)("p",null,"\u5168\u90e8\u6536\u8d77",(0,_.jsx)("span",{style:{marginLeft:"13px"}},"\u2191")))),(0,_.jsx)("div",{className:"card-classification ",style:{width:"1300px",margin:"24px 0px",padding:"0px",lineHeight:"16px"}},"\u667a\u80fd\u63a8\u8350\u5e94\u7528"),me(se)))):(0,_.jsx)(O,{tab:"\u6211\u7684\u5de5\u4f5c\u53f0",key:"0",closable:!1}),H?(0,_.jsx)(O,{tab:"\u6211\u7684\u641c\u7d22",key:"1"},(0,_.jsx)(j.default,{showIframe:de,searchList:K})):null,q.map(function(e){return(0,_.jsx)(O,{tab:e.title,key:e.key},(0,_.jsx)(x.default,{appId:e.key,url:e.url,fullScreen:F,iframeUrl:E,setFullScreen:z,cancelStarApp:le,selectStar:he,activeKey:C,selectAppId:r,pane:e}))})))}},g96v:function(e,t,n){"use strict";var r=n("tAuX"),a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getSagaState=h,t.default=g,t.useRuntimeSagaModels=m;var u=a(n("gWZ8")),i=a(n("2Taf")),s=a(n("vZ4D")),l=a(n("l4Ni")),o=a(n("ujKo")),c=a(n("MhPg")),d=r(n("q1tI")),f=a(n("LvDl")),p=a(n("kRpH")),v=n("qKvR");function h(e){return f.default.get(window.g_app._store.getState(),e)}function g(e){return function(t){return function(n){function r(t){var n;(0,i.default)(this,r),n=(0,l.default)(this,(0,o.default)(r).call(this,t));var a=f.default.isArray(e)?e:[e],u=a.map(function(e){return e(t)}).filter(f.default.identity);u.forEach(function(e){e.reusable&&h(e.namespace)||window.g_app.model(e)}),n.nsArr=u.map(function(e){return e.namespace});var s=u.filter(function(e){return e.reusable}).map(function(e){return e.namespace});return n.pubsubToken=p.default.subscribe("runtime-saga-model-query-reusable",function(e,t){f.default.isFunction(t)&&!f.default.isEmpty(s)&&t(s)}),n}return(0,c.default)(r,n),(0,s.default)(r,[{key:"componentWillUnmount",value:function(){p.default.unsubscribe(this.pubsubToken);var e=[];p.default.publishSync("runtime-saga-model-query-reusable",function(t){e.push.apply(e,(0,u.default)(t||[]))});var t=new Set(e);this.nsArr.forEach(function(e){t.has(e)||window.g_app.unmodel(e)})}},{key:"render",value:function(){return(0,v.jsx)(t,this.props)}}]),r}(d.default.Component)}}function m(e,t){(0,d.useEffect)(function(){var n=f.default.isArray(t)?t:[t],r=n.map(function(t){return t(e)}).filter(f.default.identity);r.forEach(function(e){e.reusable&&h(e.namespace)||window.g_app.model(e)});var a=r.map(function(e){return e.namespace}),i=r.filter(function(e){return e.reusable}).map(function(e){return e.namespace}),s=p.default.subscribe("runtime-saga-model-query-reusable",function(e,t){f.default.isFunction(t)&&!f.default.isEmpty(i)&&t(i)});return function(){p.default.unsubscribe(s);var e=[];p.default.publishSync("runtime-saga-model-query-reusable",function(t){e.push.apply(e,(0,u.default)(t||[]))});var t=new Set(e);a.forEach(function(e){t.has(e)||window.g_app.unmodel(e)})}},[])}},hdZo:function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getAllApptag=l,t.getAllApplication=c,t.creatApplication=f,t.deleteApplication=v,t.updateApplication=g,t.createApptag=y,t.editTag=x,t.deleteTag=b,t.getAllAppTagrelation=S,t.creatAppTagrelation=A,t.deleteAppTagrelation=O,t.updateAppTagrelation=T,t.batchAddTag=I,t.changeTagAppOrder=M,t.getTagOrder=U,t.createTagOrder=D,t.updateTagOrder=L,t.deleteTagOrder=z;var a=r(n("d6i3")),u=r(n("1l/V")),i=r(n("ExLZ")),s=(n("YVj/"),n("mjZG"));function l(e){return o.apply(this,arguments)}function o(){return o=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-app-tag"));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),o.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-app"));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-app"),t);case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return h=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.delete("".concat(s.requestBase,"/sugo-app/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return m=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.put("".concat(s.requestBase,"/sugo-app/").concat(t.id),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),m.apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return w=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-app-tag"),{tag:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function x(e){return j.apply(this,arguments)}function j(){return j=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.put("".concat(s.requestBase,"/sugo-app-tag/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),j.apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return k=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.delete("".concat(s.requestBase,"/sugo-app-tag/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),k.apply(this,arguments)}function S(e){return E.apply(this,arguments)}function E(){return E=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-app-tag-relation"));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function A(e){return _.apply(this,arguments)}function _(){return _=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-app-tag-relation"),t);case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),_.apply(this,arguments)}function O(e){return R.apply(this,arguments)}function R(){return R=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.delete("".concat(s.requestBase,"/sugo-app-tag-relation/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),R.apply(this,arguments)}function T(e){return N.apply(this,arguments)}function N(){return N=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.put("".concat(s.requestBase,"/sugo-app-tag-relation/").concat(t.id),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),N.apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return C=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-app-tag-relation/batch-add-tag"),t);case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),C.apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return B=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-app-tag-relation/change-order"),t);case 2:return n=e.sent,e.abrupt("return",n&&n.result);case 4:case"end":return e.stop()}},e)})),B.apply(this,arguments)}function U(){return q.apply(this,arguments)}function q(){return q=(0,u.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("".concat(s.requestBase,"/sugo-portal-tag-order"));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.result);case 4:case"end":return e.stop()}},e)})),q.apply(this,arguments)}function D(e){return P.apply(this,arguments)}function P(){return P=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("".concat(s.requestBase,"/sugo-portal-tag-order"),t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 4:case"end":return e.stop()}},e)})),P.apply(this,arguments)}function L(e){return F.apply(this,arguments)}function F(){return F=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.put("".concat(s.requestBase,"/sugo-portal-tag-order/").concat(t.id),t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 4:case"end":return e.stop()}},e)})),F.apply(this,arguments)}function z(e){return Z.apply(this,arguments)}function Z(){return Z=(0,u.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.delete("".concat(s.requestBase,"/sugo-portal-tag-order/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 4:case"end":return e.stop()}},e)})),Z.apply(this,arguments)}},mjZG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestBase=void 0;var r=window.__POWERED_BY_QIANKUN__?"".concat(window.parent.origin,"/app/portal"):"/app";t.requestBase=r},n7hF:function(e,t,n){"use strict";var r=n("tAuX"),a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var u=a(n("eHn4"));n("2qtc");var i=a(n("kLXV"));n("Pwec");var s=a(n("CtXQ")),l=a(n("qIgq")),o=r(n("q1tI"));n("NE+i");a(n("LvDl"));var c=n("qKvR");function d(e){e.fullScreen,e.iframeUrl,e.setFullScreen,e.cancelStarApp,e.selectStar,e.activeKey,e.selectAppId;var t,n,r,a=e.pane,d=(e.cancelOrCreatStarApp,(0,o.useRef)(null)),f=(0,o.useState)(!0),p=(0,l.default)(f,2),v=(p[0],p[1]),h=(null===a||void 0===a||a.title,(0,o.useState)(!0)),g=(0,l.default)(h,2),m=(g[0],g[1],null);(0,o.useEffect)(function(){if(!0===e.visible){if(null!==m)return clearTimeout(m),void v(!0);m=setTimeout(function(){v(!1)},3e3)}},[e.visible]);var y=e.url;return(null===(t=window)||void 0===t?void 0:null===(n=t.__SUGO_PORTAL__)||void 0===n?void 0:n.jwt)&&(y.indexOf("?")>-1?y+="&jwtSign="+window.__SUGO_PORTAL__.jwt:y+="?jwtSign="+window.__SUGO_PORTAL__.jwt),(0,c.jsx)(i.default,(r={visible:e.visible,closeIcon:(0,c.jsx)(s.default,{type:"close-circle",style:{fontSize:"32px",color:"red"}}),destroyOnClose:!0,keyboard:!0,closable:!0,onOk:e.handleOk,onCancel:e.handleCancel,footer:null,className:"full-screen",width:"100%"},(0,u.default)(r,"destroyOnClose",!0),(0,u.default)(r,"bodyStyle",{height:"100vh",padding:"0"}),r),(0,c.jsx)("iframe",{ref:d,id:"my-iframe",src:y,width:"100%",height:"100%",frameBorder:"0",border:"0",onKeyDown:function(e){console.log(e)}}))}},"r9/Z":function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.makeTagTree=h,t.appTagRelationSagaSyncModelGen=t.applicationSagaSyncModelGen=t.portalTagOrderSagaSyncModelGen=t.appTagOrderSagaSyncModelGen=t.appTagSagaSyncModelGen=t.TAG_APP_ORDER_SAGA_MODEL_NS=t.TAG_ORDER_SAGA_MODEL_NS=t.TAGS_SAGA_MODEL_NS=void 0;var a=r(n("gWZ8")),u=r(n("d6i3")),i=r(n("1l/V")),s=r(n("p0pE")),l=n("TEM7"),o=n("hdZo"),c=r(n("LvDl")),d=n("B+SW"),f="tags-saga-model";t.TAGS_SAGA_MODEL_NS=f;var p="tag-order-saga-model";t.TAG_ORDER_SAGA_MODEL_NS=p;var v="tag-app-order-saga-model";function h(e,t){var n=(0,d.dictBy)(t,function(e){return e.appTagId},function(e){return e.order}),r=c.default.groupBy(e,function(e){return e.parentId||""});function a(e){if(!e)return[];var t=c.default.map(r[e.id],function(e){return(0,s.default)({},e,{children:a(e)})}),u=(0,d.dictBy)(n[e.id],c.default.identity,function(e,t){return t});return c.default.orderBy(t,function(e){var t;return null!==(t=u[e.id])&&void 0!==t?t:9999})}return a({id:""})}t.TAG_APP_ORDER_SAGA_MODEL_NS=v;var g=function(e){return function(t){var n,r;if(t.reuseSagaModel)return null;null===t||void 0===t||null===(n=t.match)||void 0===n||null===(r=n.params)||void 0===r||r.id;return(0,l.sagaSyncModel)({namespace:e,modelName:"applicationTags",reusable:!0,getEffect:function(){var e=(0,i.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getAllApptag)();case 2:return t=e.sent,n=(null===t||void 0===t?void 0:t.tagList)||[],e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.createApptag)(t);case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.editTag)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.appTagSagaSyncModelGen=g;var m=function(e){return function(t){return(0,l.sagaSyncModel)({namespace:e,modelName:"tagAppOrders",reusable:!0,getEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getAllApptag)();case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.tagAppOrder)||[]);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("pre create app tag order: ",t);case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("pre update app tag order: ",t);case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("pre delete app tag order: ",t);case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.appTagOrderSagaSyncModelGen=m;var y=function(e){return function(t){return(0,l.sagaSyncModel)({namespace:e,modelName:"tagOrders",getEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getTagOrder)();case 2:if(n=e.sent,c.default.some(n,function(e){return!e.appTagId})){e.next=5;break}return e.abrupt("return",[{appTagId:"",order:[]}].concat((0,a.default)(n||[])));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.createTagOrder)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.updateTagOrder)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.deleteTagOrder)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.portalTagOrderSagaSyncModelGen=y;var w=function(e){return function(t){var n,r;if(t.reuseSagaModel)return null;null===t||void 0===t||null===(n=t.match)||void 0===n||null===(r=n.params)||void 0===r||r.id;return(0,l.sagaSyncModel)({namespace:e,modelName:"application",getEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){var n,r,a,i,s;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getAllApplication)();case 2:return i=e.sent,s=null===(n=window)||void 0===n?void 0:null===(r=n.sugo)||void 0===r?void 0:null===(a=r.user)||void 0===a?void 0:a.appsPermissions,"all"!==s[0]&&(i=i.filter(function(e){return s.includes(e.id)})),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.creatApplication)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.updateApplication)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.deleteApplication)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.applicationSagaSyncModelGen=w;var x=function(e){return function(t){var n,r;if(t.reuseSagaModel)return null;null===t||void 0===t||null===(n=t.match)||void 0===n||null===(r=n.params)||void 0===r||r.id;return(0,l.sagaSyncModel)({namespace:e,modelName:"appTagRelation",getEffect:function(){var e=(0,i.default)(u.default.mark(function e(){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getAllAppTagrelation)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),postEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.creatAppTagrelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),putEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.updateAppTagrelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteEffect:function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.deleteAppTagrelation)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})}};t.appTagRelationSagaSyncModelGen=x}}]);